<!--
 * @Author: bc-ax 1542650614@qq.com
 * @Date: 2025-03-14 17:01:16
 * @FilePath: \demo\src\views\file\List.vue
 * @Description: Êñá‰ª∂ÂàóË°®ËßÜÂõæ
-->
<script setup lang="ts">
import { ref } from 'vue'
import { useRouter } from 'vue-router'

const router = useRouter()

// ÊêúÁ¥¢ÂÖ≥ÈîÆËØç
const searchKeyword = ref('')

// Ê®°ÊãüÊï∞ÊçÆ
const fileList = ref([
  {
    id: 1,
    title: '‰∏úËéûËØÅÂà∏Êú∫Ê¢∞ËÆæÂ§áË°å‰∏öÂèåÂë®Êä•ÔºöÂÖ≥Ê≥®Êú∫Âô®‰∫∫Áü≠ÊúüÊ≥¢Âä®È£éÈô©',
    date: '2025-03-14',
    tags: ['Ë°å‰∏öÁ†îÁ©∂', '‰∏úËéûËØÅÂà∏', 'Êú∫Ê¢∞ËÆæÂ§á'],
    type: 'pdf',
    path: '/files/2025-03-14_‰∏úËéûËØÅÂà∏_Êú∫Ê¢∞ËÆæÂ§áË°å‰∏öÂèåÂë®Êä•ÔºöÂÖ≥Ê≥®Êú∫Âô®‰∫∫Áü≠ÊúüÊ≥¢Âä®È£éÈô©.pdf'
  },
  {
    id: 2,
    title: 'Ë¥µÂ∑ûËåÖÂè∞(600519)25Âπ¥ÁªèÈîÄÂïÜÂ§ß‰ºöÂè¨ÂºÄÔºåÈ¢ÑËÆ°ÈáèÂ¢ûÂ∏¶Âä®Â¢ûÈïø',
    date: '2025-01-06',
    tags: ['ÂÖ¨Âè∏Á†îÁ©∂', 'Â§©È£éËØÅÂà∏', 'Ë¥µÂ∑ûËåÖÂè∞'],
    type: 'pdf',
    path: '/files/2025-01-06_Â§©È£éËØÅÂà∏_Ë¥µÂ∑ûËåÖÂè∞(600519)25Âπ¥ÁªèÈîÄÂïÜÂ§ß‰ºöÂè¨ÂºÄÔºåÈ¢ÑËÆ°ÈáèÂ¢ûÂ∏¶Âä®Â¢ûÈïø.pdf'
  },
  // {
  //   id: 2,
  //   title: '‰∏≠Èì∂ËØÅÂà∏ÔºöËΩØÈÄöÂä®Âäõ(301236)Âçé‰∏∫Ê†∏ÂøÉÂêà‰Ωú‰ºô‰º¥ÔºåÂºÄÂêØ‰∫∫ÂΩ¢Êú∫Âô®‰∫∫Êñ∞ÁØáÁ´†',
  //   date: '2025-03-14',
  //   tags: ['ÂÖ¨Âè∏Á†îÁ©∂', '‰∏≠Èì∂ËØÅÂà∏', 'ËΩØÈÄöÂä®Âäõ'],
  //   type: 'pdf',
  //   path: '/files/2025-03-14_‰∏≠Èì∂ËØÅÂà∏_ËΩØÈÄöÂä®Âäõ(301236)Âçé‰∏∫Ê†∏ÂøÉÂêà‰Ωú‰ºô‰º¥ÔºåÂºÄÂêØ‰∫∫ÂΩ¢Êú∫Âô®‰∫∫Êñ∞ÁØáÁ´†.pdf'
  // },
  {
    id: 3,
    title: 'FinRobot: An Open-Source AI Agent Platform',
    date: '2025-03-14',
    tags: ['ÊäÄÊúØÁ†îÁ©∂', 'AI Agent', 'FinRobot'],
    type: 'pdf',
    path: '/files/FinRobot An Open-Source AI Agent Platform.pdf'
  }
])

// Ê†áÁ≠æÂàÜÁ±ª
const categories = [
  { name: 'ÂÖ®ÈÉ®', active: true },
  { name: 'ÂÖ¨Âëä', active: false },
  { name: 'Á†îÊä•', active: false },
  { name: '‰ºöËÆÆ', active: false },
  { name: 'ËµÑËÆØ', active: false }
]

// Êó∂Èó¥ÂàÜÁ±ª
const timePeriods = [
  { name: 'ÊúÄÊñ∞', active: true },
  { name: '‰∏âÂ§©Ââç', active: false },
  { name: '‰∏ÄÂë®Ââç', active: false }
]

// ÂàáÊç¢ÂàÜÁ±ª
const toggleCategory = (category: { name: string, active: boolean }) => {
  categories.forEach(c => c.active = false)
  category.active = true
}

// ÂàáÊç¢Êó∂Èó¥
const toggleTimePeriod = (period: { name: string, active: boolean }) => {
  timePeriods.forEach(p => p.active = false)
  period.active = true
}

// Â§ÑÁêÜÊñá‰ª∂ÁÇπÂáª
const handleFileClick = (fileId: number) => {
  router.push(`/file/${fileId}`)
}

// Ê∑ªÂä†ÈªòËÆ§ÂØºÂá∫
defineOptions({
  name: 'FileList'
})
</script>

<template>
  <div class="file-list-container">
    <!-- ÊêúÁ¥¢Âå∫Âüü -->
    <div class="search-area">
      <div class="search-box">
        <i class="search-icon">üîç</i>
        <input 
          type="text" 
          v-model="searchKeyword"
          placeholder="ËØ∑ËæìÂÖ•ÊÇ®ÊÉ≥Ë¶ÅÊêúÁ¥¢ÁöÑÂÜÖÂÆπ"
          class="search-input"
        >
      </div>
    </div>

    <!-- ÂàÜÁ±ªÂØºËà™ -->
    <div class="category-nav">
      <div class="category-group">
        <button 
          v-for="category in categories" 
          :key="category.name"
          :class="{ active: category.active }"
          @click="toggleCategory(category)"
          class="category-btn"
        >
          {{ category.name }}
        </button>
      </div>
      <div class="time-group">
        <button 
          v-for="period in timePeriods" 
          :key="period.name"
          :class="{ active: period.active }"
          @click="toggleTimePeriod(period)"
          class="time-btn"
        >
          {{ period.name }}
        </button>
      </div>
    </div>

    <!-- Êñá‰ª∂ÂàóË°® -->
    <div class="file-table">
      <div 
        v-for="file in fileList" 
        :key="file.id"
        class="file-item"
        @click="handleFileClick(file.id)"
      >
        <div class="file-icon">
          <div class="pdf-icon">
            <svg width="32px" height="32px" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
              <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                <rect fill="#E74C3C" x="4" y="2" width="24" height="28" rx="2"/>
                <path d="M10,8 L22,8 M10,12 L22,12 M10,16 L18,16" stroke="#FFFFFF" stroke-width="2" stroke-linecap="round"/>
                <text x="8" y="26" fill="#FFFFFF" font-family="Arial" font-size="8" font-weight="bold">PDF</text>
              </g>
            </svg>
          </div>
        </div>
        <div class="file-info">
          <div class="file-title">{{ file.title }}</div>
          <div class="file-meta">
            <span class="file-date">{{ file.date }}</span>
            <span 
              v-for="(tag, index) in file.tags" 
              :key="index"
              class="file-tag"
            >
              {{ tag }}
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</template>

<style lang="scss" scoped>
.file-list-container {
  padding: 20px;
  background-color: #f5f7fa;
  min-height: 100%;
}

.search-area {
  margin-bottom: 20px;
  
  .search-box {
    background: white;
    border-radius: 8px;
    padding: 12px 20px;
    display: flex;
    align-items: center;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
    
    .search-icon {
      margin-right: 12px;
      font-size: 20px;
    }
    
    .search-input {
      flex: 1;
      border: none;
      outline: none;
      font-size: 16px;
      color: #333;
      
      &::placeholder {
        color: #999;
      }
    }
  }
}

.category-nav {
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
  
  .category-group, .time-group {
    display: flex;
    gap: 12px;
  }
  
  .category-btn, .time-btn {
    padding: 6px 16px;
    border: none;
    border-radius: 4px;
    background: transparent;
    color: #666;
    cursor: pointer;
    transition: all 0.3s ease;
    
    &:hover {
      background: rgba(0, 0, 0, 0.05);
    }
    
    &.active {
      background: #2c3e50;
      color: white;
    }
  }
}

.file-table {
  background: white;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
  
  .file-item {
    display: flex;
    align-items: center;
    padding: 16px 20px;
    border-bottom: 1px solid #eee;
    transition: all 0.3s ease;
    cursor: pointer;
    
    &:hover {
      background-color: #f8f9fa;
    }
    
    &:last-child {
      border-bottom: none;
    }
    
    .file-icon {
      margin-right: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      
      .pdf-icon {
        width: 32px;
        height: 32px;
        display: flex;
        align-items: center;
        justify-content: center;
      }
    }
    
    .file-info {
      flex: 1;
      min-width: 0;
      
      .file-title {
        font-size: 15px;
        color: #333;
        margin-bottom: 6px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      }
      
      .file-meta {
        display: flex;
        align-items: center;
        gap: 12px;
        
        .file-date {
          color: #999;
          font-size: 13px;
        }
        
        .file-tag {
          padding: 2px 8px;
          background: #f5f7fa;
          border-radius: 4px;
          font-size: 12px;
          color: #666;
        }
      }
    }
  }
}
</style>

